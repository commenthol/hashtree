!function(t){"use strict";var e={};e.get=function(t,e){var o,n=t;if(e=r(e),void 0!==e){for(o=0;o<e.length;o+=1){if(!n.hasOwnProperty([e[o]])){n=void 0;break}n=n[e[o]]}return n}},e.set=function(t,e,o,n){var i,s,f,p=!1,u=t;if(n=n||{overwrite:!1},e=r(e),void 0===e||void 0===t||void 0===o)return!1;for(i=0;i<e.length;i+=1)f=u,u.hasOwnProperty([e[i]])?(u=u[e[i]],p=!1):(u=u[e[i]]={},p=!0);return s=e[e.length-1],n.overwrite||void 0!==f[s]&&(p||"object"!=typeof f[s]||"object"==typeof o)?(f[s]=o,!0):!1},e.setAll=function(t,o,n){var i,s,f=t;if(o=r(o),void 0!==t&&void 0!==n&&(void 0!==o&&(f=e.get(t,o)),f&&"object"==typeof f&&null!==s&&!Array.isArray(t)))for(i in f)f.hasOwnProperty(i)&&("object"==typeof f[i]?e.setAll(f[i],void 0,n):e.set(f,[i],n))},e.delete=function(t,o){var n,i;return o=r(o),o&&(i=o.pop(),n=e.get(t,o),void 0!==n)?(delete n[i],!0):!1},e.diffToBase=function(t,r){var o=e.diff(t,r);return o.diff2},e.diff=function(t,r,o,n,i){var s;if(o=o||[],n=n||{},i=i||{},t&&r){for(s in t)t.hasOwnProperty(s)&&(r.hasOwnProperty(s)?"object"==typeof t[s]&&"object"==typeof r[s]?(o.push(s),e.diff(t[s],r[s],o,n,i),o.pop()):t[s]!==r[s]&&(o.push(s),e.set(n,o,t[s]),e.set(i,o,r[s]),o.pop()):(o.push(s),e.set(n,o,t[s]),o.pop()));for(s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(o.push(s),e.set(i,o,r[s]),o.pop())}return{diff1:n,diff2:i}},e.sort=function(t,r){var o,n=[],i=null;if(t&&"object"==typeof t&&null!==t)if("number"==typeof t.length)i=[],i=t.map(function(t){return e.sort(t,r)});else{i={};for(o in t)t.hasOwnProperty(o)&&n.push(o);n.sort(r).forEach(function(o){i[o]=e.sort(t[o],r)})}else i=t;return i};var r=function(t){return"string"==typeof t?t.replace(/^\s*\.\s*/,"").replace(/(?:\s*\.\s*)+/g,".").split("."):Array.isArray(t)?[].concat(t):void 0};t.hashTree=e;var o=function(t){this._tree=t||{}};o.prototype.delete=function(t){return t?e.delete(this._tree,t):(this._tree={},!0)},o.prototype.get=function(t){return e.get(this._tree,t)},o.prototype.set=function(t,r){return e.set(this._tree,t,r)},o.prototype.setAll=function(t,r){e.setAll(this._tree,t,r)},o.prototype.tree=function(){return this._tree},o.prototype.sort=function(t){this._tree=e.sort(this._tree,t),this._tree=e.sort(this._tree,t)},t.HashTree=o}(this.exports||this);